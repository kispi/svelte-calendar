
> svelte-calendar@0.0.1 check
> svelte-kit sync && svelte-check --tsconfig ./tsconfig.json

Loading svelte-check in workspace: c:\dev\svelte-calendar
Getting Svelte diagnostics...

c:\dev\svelte-calendar\[32msrc\lib\server\db\index.ts[39m:2:22
[31mError[39m: Could not find a declaration file for module 'better-sqlite3'. 'c:/dev/svelte-calendar/node_modules/better-sqlite3/lib/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/better-sqlite3` if it exists or add a new declaration (.d.ts) file containing `declare module 'better-sqlite3';` 
[36mimport { drizzle } from 'drizzle-orm/better-sqlite3'
import Database from [35m'better-sqlite3'[36m
import { env } from '$env/dynamic/private'[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:16:3
[31mError[39m: Type 'SQLiteTableWithColumns<{ name: "users"; schema: undefined; columns: { name: SQLiteColumn<{ name: "name"; tableName: "users"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: false; hasDefault: false; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; dele...' is not assignable to type 'DefaultSQLiteUsersTable'.
  Type 'SQLiteTableWithColumns<{ name: "users"; schema: undefined; columns: { name: SQLiteColumn<{ name: "name"; tableName: "users"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: false; hasDefault: false; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; dele...' is not assignable to type 'SQLiteTable<{ name: string; columns: { id: DefaultSQLiteColumn<{ columnType: "SQLiteText"; data: string; isPrimaryKey: true; notNull: true; dataType: "string"; }>; name: DefaultSQLiteColumn<{ columnType: "SQLiteText"; data: string; notNull: boolean; dataType: "string"; }>; email: DefaultSQLiteColumn<...>; emailVerif...'.
    The types of '_.config.columns.emailVerified' are incompatible between these types.
      Type 'SQLiteColumn<{ name: "email_verified"; tableName: "users"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>' is not assignable to type 'DefaultSQLiteColumn<{ dataType: "date"; columnType: "SQLiteTimestamp"; data: Date; notNull: boolean; }>'.
        Type '{ name: "email_verified"; tableName: "users"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }' is not assignable to type '{ name: string; isAutoincrement: boolean; isPrimaryKey: false; hasRuntimeDefault: boolean; generated: GeneratedColumnConfig<Date> | undefined; columnType: "SQLiteTimestamp"; ... 6 more ...; tableName: string; }'.
          Types of property 'columnType' are incompatible.
            Type '"SQLiteText"' is not assignable to type '"SQLiteTimestamp"'. 
[36mconst drizzleAdapter = DrizzleAdapter(db, {
  [35musersTable[36m: user,
  accountsTable: account,[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:18:3
[31mError[39m: Type 'SQLiteTableWithColumns<{ name: "sessions"; schema: undefined; columns: { sessionToken: SQLiteColumn<{ name: "session_token"; tableName: "sessions"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 5 more ...; deletedAt: SQLit...' is not assignable to type 'DefaultSQLiteSessionsTable | undefined'.
  Type 'SQLiteTableWithColumns<{ name: "sessions"; schema: undefined; columns: { sessionToken: SQLiteColumn<{ name: "session_token"; tableName: "sessions"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 5 more ...; deletedAt: SQLit...' is not assignable to type 'DefaultSQLiteSessionsTable'.
    Type 'SQLiteTableWithColumns<{ name: "sessions"; schema: undefined; columns: { sessionToken: SQLiteColumn<{ name: "session_token"; tableName: "sessions"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 5 more ...; deletedAt: SQLit...' is not assignable to type 'SQLiteTable<{ name: string; columns: { sessionToken: DefaultSQLiteColumn<{ columnType: "SQLiteText"; data: string; isPrimaryKey: true; notNull: true; dataType: "string"; }>; userId: DefaultSQLiteColumn<...>; expires: DefaultSQLiteColumn<...>; }; dialect: "sqlite"; schema: string | undefined; }>'.
      The types of '_.config.columns.sessionToken' are incompatible between these types.
        Type 'SQLiteColumn<{ name: "session_token"; tableName: "sessions"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>' is not assignable to type 'DefaultSQLiteColumn<{ columnType: "SQLiteText"; data: string; isPrimaryKey: true; notNull: true; dataType: "string"; }>'.
          Type '{ name: "session_token"; tableName: "sessions"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }' is not assignable to type '{ name: string; isAutoincrement: boolean; isPrimaryKey: true; hasRuntimeDefault: boolean; generated: GeneratedColumnConfig<string> | undefined; columnType: "SQLiteText"; ... 6 more ...; tableName: string; }'.
            Types of property 'isPrimaryKey' are incompatible.
              Type 'false' is not assignable to type 'true'. 
[36m  accountsTable: account,
  [35msessionsTable[36m: session,
  verificationTokensTable: verificationToken[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:19:3
[31mError[39m: Type 'SQLiteTableWithColumns<{ name: "verification_tokens"; schema: undefined; columns: { identifier: SQLiteColumn<{ name: "identifier"; tableName: "verification_tokens"; dataType: "string"; columnType: "SQLiteText"; data: string; ... 9 more ...; generated: undefined; }, {}, { ...; }>; ... 5 more ...; deletedAt: SQLiteCol...' is not assignable to type 'DefaultSQLiteVerificationTokenTable | undefined'.
  Type 'SQLiteTableWithColumns<{ name: "verification_tokens"; schema: undefined; columns: { identifier: SQLiteColumn<{ name: "identifier"; tableName: "verification_tokens"; dataType: "string"; columnType: "SQLiteText"; data: string; ... 9 more ...; generated: undefined; }, {}, { ...; }>; ... 5 more ...; deletedAt: SQLiteCol...' is not assignable to type 'DefaultSQLiteVerificationTokenTable'.
    Type 'SQLiteTableWithColumns<{ name: "verification_tokens"; schema: undefined; columns: { identifier: SQLiteColumn<{ name: "identifier"; tableName: "verification_tokens"; dataType: "string"; columnType: "SQLiteText"; data: string; ... 9 more ...; generated: undefined; }, {}, { ...; }>; ... 5 more ...; deletedAt: SQLiteCol...' is not assignable to type 'SQLiteTable<{ name: string; columns: { identifier: DefaultSQLiteColumn<{ columnType: "SQLiteText"; data: string; notNull: true; dataType: "string"; }>; token: DefaultSQLiteColumn<{ columnType: "SQLiteText"; data: string; notNull: true; dataType: "string"; }>; expires: DefaultSQLiteColumn<...>; }; dialect: "sqlite"; ...'.
      The types of '_.config.columns.expires' are incompatible between these types.
        Type 'SQLiteColumn<{ name: "expires"; tableName: "verification_tokens"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; ... 5 more ...; generated: undefined; }, {}, { ...; }>' is not assignable to type 'DefaultSQLiteColumn<{ dataType: "date"; columnType: "SQLiteTimestamp"; data: Date; notNull: true; }>'.
          Type '{ name: "expires"; tableName: "verification_tokens"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }' is not assignable to type '{ name: string; isAutoincrement: boolean; isPrimaryKey: false; hasRuntimeDefault: boolean; generated: GeneratedColumnConfig<Date> | undefined; columnType: "SQLiteTimestamp"; ... 6 more ...; tableName: string; }'.
            Types of property 'columnType' are incompatible.
              Type '"SQLiteText"' is not assignable to type '"SQLiteTimestamp"'. 
[36m  sessionsTable: session,
  [35mverificationTokensTable[36m: verificationToken
})[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:25:23
[31mError[39m: Parameter 'session' implicitly has an 'any' type. 
[36m  ...drizzleAdapter,
  async createSession([35msession[36m) {
    const result = await drizzleAdapter.createSession({[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:26:26
[31mError[39m: Cannot invoke an object which is possibly 'undefined'. 
[36m  async createSession(session) {
    const result = await [35mdrizzleAdapter.createSession[36m({
      ...session,[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:26:26
[31mError[39m: 'drizzleAdapter.createSession' is possibly 'undefined'. 
[36m  async createSession(session) {
    const result = await [35mdrizzleAdapter.createSession[36m({
      ...session,[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:35:23
[31mError[39m: Parameter 'session' implicitly has an 'any' type. 
[36m  },
  async updateSession([35msession[36m) {
    const result = await drizzleAdapter.updateSession({[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:36:26
[31mError[39m: Cannot invoke an object which is possibly 'undefined'. 
[36m  async updateSession(session) {
    const result = await [35mdrizzleAdapter.updateSession[36m({
      ...session,[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:36:26
[31mError[39m: 'drizzleAdapter.updateSession' is possibly 'undefined'. 
[36m  async updateSession(session) {
    const result = await [35mdrizzleAdapter.updateSession[36m({
      ...session,[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:45:33
[31mError[39m: Parameter 'token' implicitly has an 'any' type. 
[36m  },
  async createVerificationToken([35mtoken[36m) {
    const result = await drizzleAdapter.createVerificationToken({[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:46:26
[31mError[39m: Cannot invoke an object which is possibly 'undefined'. 
[36m  async createVerificationToken(token) {
    const result = await [35mdrizzleAdapter.createVerificationToken[36m({
      ...token,[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:46:26
[31mError[39m: 'drizzleAdapter.createVerificationToken' is possibly 'undefined'. 
[36m  async createVerificationToken(token) {
    const result = await [35mdrizzleAdapter.createVerificationToken[36m({
      ...token,[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:57:27
[31mError[39m: Parameter 'sessionToken' implicitly has an 'any' type. 
[36m  // Auth.js expects `expires` to be a Date object.
  async getSessionAndUser([35msessionToken[36m) {
    const result = await drizzleAdapter.getSessionAndUser(sessionToken)[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:58:26
[31mError[39m: Cannot invoke an object which is possibly 'undefined'. 
[36m  async getSessionAndUser(sessionToken) {
    const result = await [35mdrizzleAdapter.getSessionAndUser[36m(sessionToken)
    if (result?.session) {[39m

c:\dev\svelte-calendar\[32msrc\hooks.server.ts[39m:58:26
[31mError[39m: 'drizzleAdapter.getSessionAndUser' is possibly 'undefined'. 
[36m  async getSessionAndUser(sessionToken) {
    const result = await [35mdrizzleAdapter.getSessionAndUser[36m(sessionToken)
    if (result?.session) {[39m

c:\dev\svelte-calendar\[32msrc\routes\api\chat\+server.ts[39m:66:9
[31mError[39m: Type '{ functionDeclarations: ({ name: string; description: string; parameters: { type: SchemaType; properties: { startDate: { type: SchemaType; description: string; }; endDate: { ...; }; date?: undefined; }; required: string[]; }; } | { ...; })[]; }[]' is not assignable to type 'Tool[]'.
  Type '{ functionDeclarations: ({ name: string; description: string; parameters: { type: SchemaType; properties: { startDate: { type: SchemaType; description: string; }; endDate: { ...; }; date?: undefined; }; required: string[]; }; } | { ...; })[]; }' is not assignable to type 'Tool'.
    Type '{ functionDeclarations: ({ name: string; description: string; parameters: { type: SchemaType; properties: { startDate: { type: SchemaType; description: string; }; endDate: { ...; }; date?: undefined; }; required: string[]; }; } | { ...; })[]; }' is not assignable to type 'FunctionDeclarationsTool'.
      Types of property 'functionDeclarations' are incompatible.
        Type '({ name: string; description: string; parameters: { type: SchemaType; properties: { startDate: { type: SchemaType; description: string; }; endDate: { type: SchemaType; description: string; }; date?: undefined; }; required: string[]; }; } | { ...; })[]' is not assignable to type 'FunctionDeclaration[]'.
          Type '{ name: string; description: string; parameters: { type: SchemaType; properties: { startDate: { type: SchemaType; description: string; }; endDate: { type: SchemaType; description: string; }; date?: undefined; }; required: string[]; }; } | { ...; }' is not assignable to type 'FunctionDeclaration'.
            Type '{ name: string; description: string; parameters: { type: SchemaType; properties: { startDate: { type: SchemaType; description: string; }; endDate: { type: SchemaType; description: string; }; date?: undefined; }; required: string[]; }; }' is not assignable to type 'FunctionDeclaration'.
              The types of 'parameters.properties' are incompatible between these types.
                Type '{ startDate: { type: SchemaType; description: string; }; endDate: { type: SchemaType; description: string; }; date?: undefined; }' is not assignable to type '{ [k: string]: Schema; }'.
                  Property 'startDate' is incompatible with index signature.
                    Type '{ type: SchemaType; description: string; }' is not assignable to type 'Schema'.
                      Property 'properties' is missing in type '{ type: SchemaType; description: string; }' but required in type 'ObjectSchema'. 
[36m        model: 'gemini-3-flash-preview',
        [35mtools[36m
    })[39m

c:\dev\svelte-calendar\[32msrc\routes\api\chat\+server.ts[39m:84:9
[31mError[39m: Type '{ parts: { text: string; }[]; }' is not assignable to type 'string | Content | Part | undefined'.
  Property 'role' is missing in type '{ parts: { text: string; }[]; }' but required in type 'Content'. 
[36m        history,
        [35msystemInstruction[36m: {
            parts: [{[39m

c:\dev\svelte-calendar\[32msrc\routes\api\chat\+server.ts[39m:169:51
[31mError[39m: Property 'date' does not exist on type 'object'. 
[36m        history: fullHistory, // Return the full rich history turns
        moveToDate: moveCall?.functionCall?.args?.[35mdate[36m
    })[39m

c:\dev\svelte-calendar\[32msrc\routes\api\notes\[id]\+server.ts[39m:51:21
[31mError[39m: No overload matches this call.
  Overload 1 of 2, '(status: number, body: Error): never', gave the following error.
    Argument of type 'unknown' is not assignable to parameter of type 'number'.
  Overload 2 of 2, '(status: number, body?: string | Error | undefined): never', gave the following error.
    Argument of type 'unknown' is not assignable to parameter of type 'number'. 
[36m        const message = e instanceof Error ? e.message : 'Internal Server Error'
        throw error([35mstatus[36m, message)
    }[39m

c:\dev\svelte-calendar\[32msrc\lib\components\EventModal.svelte[39m:137:7
[31mError[39m: 'deleteForm' is possibly 'undefined'. (ts)
[36m    if (confirmed) {
      [35mdeleteForm[36m.requestSubmit(deleteBtn)
    }[39m

====================================
[31msvelte-check found 21 errors and 0 warnings in 5 files
[39m
